ace.define("ace/ext/mobile",["require","exports","module","ace/mouse/touch_handler","ace/config","ace/editor"],function(e,t,n){var r=e("../mouse/touch_handler").TouchHandler,i=e("../config"),s=e("../editor").Editor;e("../config").defineOptions(s.prototype,"editor",{enableTouchSupport:{set:function(e){e&&!this.$touchHandler&&(this.$touchHandler=new r(this))},value:!0,initialValue:!1}})}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/lib/event"],function(e,t,n){var r=e("../lib/event"),i=function(e){function T(e){clearInterval(x);var t=N,n=C,r=i.t;n=(i.y-a.y)/(i.t-a.t);if(Math.abs(N)<.001&&Math.abs(C)<.001){M(e.changedTouches[0]);return}x=function(){v=d,d=Date.now();var e=d-v,i=C*e,s=N*e,o=((1-m)*1/(1+.6*(d-r))+m)*Math.exp(-E*(d-r)/50);N-=S*N*e/20,C-=S*C*e/20,N=o*t,C=o*n,S<E&&(S+=E*(E-S));if(Math.abs(s)+Math.abs(i)<1)return x=clearInterval(x);O(s,i),x&&setTimeout(x,30)},x()}function L(e){var t=e.x-n.x,r=e.y-n.y,i=e.t;if(i<=d)return;Math.abs(t)+Math.abs(r)>3&&(y&&b?Math.abs(r)>1.5*Math.abs(t)?b=!1:Math.abs(t)>1.5*Math.abs(r)?y=!1:y=b=!1:y?Math.abs(e.x-a.x)>3*Math.abs(e.y-a.y)&&(y=!1):b&&Math.abs(e.y-a.y)>3*Math.abs(e.x-a.x)&&(b=!1)),y&&(t=0),b&&(r=0),p=i-d,d=i,f=t/p,l=r/p;var s=.4*k/(k+p);e.vX=f,e.vY=l,e.dt=p,N=s*c+(1-s)*f,C=s*h+(1-s)*l*10;if(isNaN(C))debugger;k=p,c=f,h=l,O(t,r),n=e}function A(e,n){var r=t.getBoundingClientRect(),i=e.clientX-r.left,s=e.clientY-r.right;return{x:i,y:s,t:n.timeStamp}}this.editor=e,this.editor.on("mousedown",function(t){e.$hasActiveTouch&&t.stop(),t.defaultPrevented=!0}),e.on("focus",function(){e.focusedFromTouch=e.fromTouch}),e.on("blur",function(){e.focusedFromTouch=!1});var t=e.container,n=null,i=null,s,o=0,u=0,a,f=0,l=0,c=0,h=0,p,d=0,v,m,g,y=!1,b=!1,w;t.addEventListener("touchstart",function(t){e.touchMoved=!1,a=n=i=A(t.touches[0],t),x?(x=clearInterval(x),o=N,u=C):(o=0,u=0,y=!0,b=!0),N=C=0,c=f=h=l=0,d=t.timeStamp,e.focusedFromTouch&&t.touches.length<2&&t.preventDefault()}),t.addEventListener("touchend",function(e){s=clearInterval(s),i=A(e.changedTouches[0],e),L(i),N*o>0||C*u>0?m=(Math.abs(C)+Math.abs(u))/Math.abs(C):m=1,S=E,T(e)});var E=.1,S=E,x;t.addEventListener("touchmove",function(t){i=A(t.touches[0],t),e.touchMoved=!0,L(i),t.preventDefault()});var N,C,c=0,h=0,k=0;e.textInput.getElement().style.fontSize="60px",r.addListener(e.container,"click",function(t){if(e.touchMoved)return;e.fromTouch=!0,e.focus(),e.fromTouch=!1});var O=function(t,n){var r=e.session;r.setScrollLeft(r.getScrollLeft()-t),r.setScrollTop(r.getScrollTop()-n)},M=function(t){var n=t.clientX,r=t.clientY,i=e.renderer.screenToTextCoordinates(n,r);e.moveCursorToPosition(i),e.selection.clearSelection(),e.renderer.scrollCursorIntoView()}};(function(){}).call(i.prototype),t.TouchHandler=i})